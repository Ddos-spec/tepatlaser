---
// jasa-galvo-engraving.astro - Halaman layanan Galvo Engraving
import BaseLayout from '../components/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import Hero from '../components/Hero.astro';
import CTA from '../components/CTA.astro';
import { SERVICES, SITE_CONFIG, WHATSAPP_MESSAGES } from '../utils/constants.js';
import { generateMetaTags, generateServiceSchema, generateBreadcrumbSchema } from '../utils/seo.js';

// Find Galvo Engraving service
const service = SERVICES.find(s => s.slug === 'jasa-galvo-engraving');

// SEO Meta Tags
const metaTags = service ? generateMetaTags({
  title: `${service.name} - Engraving Presisi Tinggi untuk Branding Produk`,
  description: `${service.description}. Teknologi galvo laser tercepat untuk engraving detail tinggi pada logam, plastik, kayu. Ideal untuk branding produk, serial number, QR code. Quote gratis 24 jam.`,
  keywords: service.keywords,
  url: `/${service.slug}/`,
  type: "service",
  image: service.image,
  publishedTime: "2025-01-01T00:00:00Z",
  modifiedTime: "2025-07-27T10:00:00Z",
  author: SITE_CONFIG.author
}) : null;

// Structured Data
const serviceSchema = service ? generateServiceSchema(service) : null;
const breadcrumbSchema = service ? generateBreadcrumbSchema([
  { name: 'Beranda', url: '/' },
  { name: 'Layanan', url: '/#services' },
  { name: service.name, url: `/${service.slug}/` }
]) : null;
---

{service && metaTags ? (
  <BaseLayout 
    title={metaTags.title}
    description={metaTags.description}
    keywords={metaTags.keywords}
    url={metaTags.canonical}
    jsonLd={[serviceSchema, breadcrumbSchema].filter(Boolean)}
  >
    <Header slot="header" />
  
    <main>
      <Hero
        title={`${service.name} Profesional`}
        subtitle="Engraving Presisi | Logam, Plastik, Kayu | Kecepatan Tinggi"
        description="Teknologi galvo laser tercepat untuk engraving detail tinggi pada berbagai material. Ideal untuk branding produk, serial number, QR code, barcode, dan personalisasi dengan hasil yang tajam dan tahan lama."
        primaryCTA="Konsultasi Galvo Engraving"
        secondaryCTA="Lihat Portofolio"
        backgroundImage={service.image}
        whatsappMessage={WHATSAPP_MESSAGES.engraving}
      />

      <CTA />
    </main>

    <Footer slot="footer" />
  </BaseLayout>
) : (
  <BaseLayout title="Layanan Tidak Ditemukan" description="Halaman untuk layanan yang tidak ditemukan.">
    <Header slot="header" />
    <main class="text-center py-20">
      <h1 class="text-4xl font-bold mb-4">404 - Layanan Tidak Ditemukan</h1>
      <p class="text-lg mb-8">Maaf, layanan yang Anda cari tidak ada atau telah dipindahkan.</p>
      <a href="/" class="bg-blue-600 text-white px-6 py-3 rounded-md font-semibold hover:bg-blue-700 transition-colors">
        Kembali ke Beranda
      </a>
    </main>
    <Footer slot="footer" />
  </BaseLayout>
)}
